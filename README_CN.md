# è‚¥è‚¥ï¼šGitHubè‡ªåŠ¨åŒ– Issue å›å¤æœºå™¨äºº

[English](README.md) | [ä¸­æ–‡](README_CN.md)

è¯¥ä»“åº“åŒ…å«ä¸€ä¸ªPythonè„šæœ¬ï¼Œä½¿ç”¨è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰è‡ªåŠ¨å›å¤æŒ‡å®šGitHubä»“åº“ä¸­çš„æ–°Issueã€‚è¯¥æœºå™¨äººåˆ©ç”¨OpenAIçš„GPTæ¨¡å‹ã€Hugging Faceæ¨¡å‹æˆ–å…¶ä»–æ”¯æŒçš„æ¨¡å‹ï¼Œæ ¹æ®ä»“åº“å†…å®¹ç”Ÿæˆå›å¤ã€‚

#### ç‰¹æ€§

- **è‡ªåŠ¨å›å¤**ï¼šç›‘æ§æŒ‡å®šçš„GitHubä»“åº“ä¸­çš„æ–°Issueï¼Œå¹¶ä½¿ç”¨LLMè‡ªåŠ¨ç”Ÿæˆå›å¤ã€‚
- **LLMé›†æˆ**ï¼šæ”¯æŒOpenAIã€Hugging Faceã€Anthropicã€Googleã€Qianfanã€Ollamaæˆ–æœ¬åœ°æ¨¡å‹æ¥ç”Ÿæˆå›å¤ã€‚
- **å‘é‡å­˜å‚¨**ï¼šæ„å»ºæˆ–åŠ è½½ä»“åº“å†…å®¹çš„å‘é‡å­˜å‚¨ï¼Œå®ç°åŸºäºä¸Šä¸‹æ–‡çš„å›å¤ã€‚
- **ç¯å¢ƒé…ç½®**ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡å’ŒYAMLé…ç½®æ–‡ä»¶ï¼Œçµæ´»è®¾ç½®ã€‚
- **çº¿ç¨‹å®‰å…¨æ“ä½œ**ï¼šå®ç°é”æœºåˆ¶ï¼Œç¡®ä¿æ–‡ä»¶æ“ä½œçš„çº¿ç¨‹å®‰å…¨ã€‚
- **å¯æ‰©å±•è®¾è®¡**ï¼šæ¨¡å—åŒ–å‡½æ•°ï¼Œæ–¹ä¾¿å®šåˆ¶å’Œæ‰©å±•åŠŸèƒ½ã€‚

#### ç›®å½•

- [å…ˆå†³æ¡ä»¶](#å…ˆå†³æ¡ä»¶)
- [å®‰è£…](#å®‰è£…)
- [é…ç½®](#é…ç½®)
- [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
- [è‡ªå®šä¹‰](#è‡ªå®šä¹‰)
- [è´¡çŒ®](#è´¡çŒ®)
- [è®¸å¯è¯](#è®¸å¯è¯)

#### å…ˆå†³æ¡ä»¶

- Python 3.10æˆ–æ›´é«˜ç‰ˆæœ¬
- GitHubã€OpenAIã€Hugging Faceæˆ–å…¶ä»–æ”¯æŒçš„åç«¯çš„è®¿é—®ä»¤ç‰Œ

#### å®‰è£…

1. **å…‹éš†ä»“åº“**

   ```bash
   git clone https://github.com/GreatV/feifei.git
   cd feifei
   ```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**

   ```bash
   python3 -m venv venv
   source venv/bin/activate  # åœ¨Windowsä¸Šä½¿ç”¨ 'venv\Scripts\activate'
   ```

3. **å®‰è£…ä¾èµ–**

   ```bash
   pip install -r requirements.txt
   ```

#### é…ç½®

##### ç¯å¢ƒå˜é‡

åœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª `.env` æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å˜é‡ï¼š

```env
GITHUB_TOKEN=your_github_token
OPENAI_API_KEY=your_openai_api_key  # å¯é€‰ï¼Œå¦‚æœä½¿ç”¨OpenAI
HUGGINGFACEHUB_API_TOKEN=your_huggingface_token  # å¯é€‰ï¼Œå¦‚æœä½¿ç”¨Hugging Face
```

##### YAMLé…ç½®

åœ¨æ ¹ç›®å½•åˆ›å»ºæˆ–ä¿®æ”¹ `config.yaml` æ–‡ä»¶ï¼š

```yaml
github_base_url: "https://api.github.com"
llm_backend: "openai"  # é€‰é¡¹ï¼š'openai'ï¼Œ'huggingface'ï¼Œ'local'ï¼Œ'anthropic'ï¼Œ'google'ï¼Œ'qianfan'ï¼Œ'ollama'
embedding_backend: "openai"  # é€‰é¡¹ï¼š'openai'ï¼Œ'huggingface'ï¼Œ'local'
model_name: "gpt-3.5-turbo"  # LLMæ¨¡å‹åç§°
embedding_model_name: "sentence-transformers/all-MiniLM-L6-v2"
check_interval: 300  # æ£€æŸ¥é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰
repositories:
  yourusername/your-repo:
    start_issue_number: 1
    branch: "main"  # ç›‘æ§çš„åˆ†æ”¯
    recent_period: 30  # è®¤ä¸ºæ˜¯æœ€è¿‘Issueçš„å¤©æ•°
```

- **github_base_url**ï¼šGitHub APIè¯·æ±‚çš„åŸºæœ¬URLã€‚
- **llm_backend**ï¼šä½¿ç”¨çš„è¯­è¨€æ¨¡å‹åç«¯ã€‚
- **embedding_backend**ï¼šä½¿ç”¨çš„åµŒå…¥æ¨¡å‹åç«¯ã€‚
- **model_name**ï¼šLLMæ¨¡å‹çš„åç§°ã€‚
- **embedding_model_name**ï¼šåµŒå…¥æ¨¡å‹çš„åç§°ã€‚
- **check_interval**ï¼šæœºå™¨äººæ£€æŸ¥æ–°Issueçš„é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰ã€‚
- **repositories**ï¼šè¦ç›‘æ§çš„ä»“åº“åˆ—è¡¨åŠå…¶è®¾ç½®ã€‚
  - **start_issue_number**ï¼šå¼€å§‹ç›‘æ§çš„Issueç¼–å·ã€‚
  - **branch**ï¼šç›‘æ§çš„åˆ†æ”¯ã€‚
  - **recent_period**ï¼šè®¤ä¸ºæ˜¯æœ€è¿‘Issueçš„å¤©æ•°ã€‚

#### ä½¿ç”¨æ–¹æ³•

è¿è¡Œä¸»è„šæœ¬ï¼š

```bash
python main.py
```

æ‚¨å¯ä»¥ä½¿ç”¨ `--debug` å‘½ä»¤è¡Œå‚æ•°æ¥å¯ç”¨è°ƒè¯•æ¨¡å¼ï¼š

```bash
python main.py --debug
```

æœºå™¨äººå°†å¼€å§‹ç›‘æ§æŒ‡å®šçš„ä»“åº“ä¸­çš„æ–°Issueå¹¶è‡ªåŠ¨å›å¤ã€‚

#### è‡ªå®šä¹‰

##### ä¿®æ”¹æç¤ºæ¨¡æ¿å’Œç­¾å

ç”¨äºç”Ÿæˆå›å¤çš„æç¤ºæ¨¡æ¿å’Œé™„åŠ åœ¨æ¯ä¸ªå›å¤åçš„ç­¾åç°åœ¨å¯ä»¥åœ¨ `config.yaml` æ–‡ä»¶ä¸­è‡ªå®šä¹‰ï¼Œè€Œä¸æ˜¯ç¡¬ç¼–ç åœ¨ä»£ç ä¸­ã€‚

åœ¨ `config.yaml` ä¸­æ›´æ–° `prompt_template` å’Œ `signature` å­—æ®µï¼š

```yaml
prompt_template: |
  You are a smart assistant capable of answering user questions based on provided documents.

  Question: {input}

  Here are some potentially useful documents:
  {context}

  Please provide a detailed answer based on the above information, in the same language as the question. If possible, reference related Issues or Discussions and provide links.

  Answer:

signature: "\n\n---\n*Response generated by ğŸ¤– feifei-bot | {model_name}*"
```

##### æ›´æ”¹LLMåç«¯

æ‚¨å¯ä»¥é€šè¿‡æ›´æ–° `config.yaml` ä¸­çš„ `llm_backend` æ¥åœ¨OpenAIã€Hugging Faceã€Anthropicã€Googleã€Qianfanã€Ollamaæˆ–æœ¬åœ°æ¨¡å‹ä¹‹é—´åˆ‡æ¢ï¼š

```yaml
llm_backend: "huggingface"  # æˆ– 'local', 'anthropic', 'google', 'qianfan', 'ollama'
```

å¦‚æœé€‰æ‹© 'local'ï¼Œè¯·ç¡®ä¿æ‚¨å·²å®‰è£…å¿…è¦çš„ä»¤ç‰Œå’Œæ¨¡å‹ã€‚

##### è°ƒæ•´æ£€ç´¢è®¾ç½®

å¯ä»¥åœ¨ `search_kwargs` å‚æ•°ä¸­è°ƒæ•´ç”¨äºæä¾›ä¸Šä¸‹æ–‡çš„æ£€ç´¢æ–‡æ¡£æ•°é‡ï¼š

```python
retriever = vectorstore.as_retriever(search_kwargs={"k": 5})
```

#### è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ï¼š

1. **Forkä»“åº“**

2. **åˆ›å»ºæ–°åˆ†æ”¯**

   ```bash
   git checkout -b feature/your-feature-name
   ```

3. **æäº¤æ›´æ”¹**

   ```bash
   git commit -am 'Add new feature'
   ```

4. **æ¨é€åˆ°åˆ†æ”¯**

   ```bash
   git push origin feature/your-feature-name
   ```

5. **åˆ›å»ºPull Request**

#### è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache-2.0 è®¸å¯è¯](LICENSE)ã€‚
